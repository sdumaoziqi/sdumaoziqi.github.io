---
layout: post
title: 浮点数一二
date: 2024-10-31
author: sdumaoziqi
categories:
tags: [Float]
comments: true
toc: true
pinned: false
---

# 浮点数一二


|   | 指数域  |  尾数域 | 数值  |   |
|---|---|---|---|---|
|   | 全0  |  全0 | 零  |  正零：0,0000000,000000000000  <br> 负零：1,0000000,000000000000 |
|   |  全0 | 非全0  |  非规约数 |  最小：0,0000000,000000000001   **1.4e-45**  <br> 最大：0,0000000,111111111111   **5.8e-39** |
|   |  有0有1 |  任意 | 规约数  | 最小：0,0000001,000000000000    **1.1e-38**  <br> 最大：0,1111110,111111111111     **3.4e38**  |
|   |  全1 |  全0 |  无穷 | 正无穷：0,1111111,000000000000  <br>  负无穷：1,1111111,000000000000  |
|   |  全1 | 非全0  |  Nan |   |
|   |   |   |   |   |

1. 为什么需要非规约数
  - 最小的规约数与零之间的差值位$1.0*2^{-126}$
  - 最小的规约数与次小的规约数之间的差值位$1.0*2^{-126} * 2^{-23}$
  - 也就是说从次小到最小之间的距离是最小到零之间的$1/{2^{23}}$，是一个突然的下降
  - 一种糟糕后果是：两个不等的小浮点数X与Y相减，结果将是0，比如次小减去最小就等于0了
  - 使用非规约数就可以把这段突然下降填补

2. 指数域为什么使用偏移值，而不是补码等方式
  - 指数域使用的是无符号整数，与尾数域拼接后依然可以使用整数比较器比较大小，如果使用补码就需要对指数域第一位进行判断(是否为负数)。
  - 指数域范围是[0, 255], 0与255分别表示其他数值，中间的[1, 254]减去偏移值127，可表示的范围是[-126, 127]

3. 浮点数的舍入
  - 最常见的是**舍入到最接近**， 舍入到最接近，在一样接近的情况下偶数优先（Ties To Even，这是默认的舍入方式）

4. 浮点数的精度

5. 字符串转浮点数